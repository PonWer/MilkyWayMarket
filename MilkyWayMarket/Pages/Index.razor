@page "/"
@inject IDataService DataService

@page "/"
@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager
@inject DialogService DialogService
@inject ContextMenuService ContextMenuService
@inject TooltipService TooltipService
@inject NotificationService NotificationService
<PageTitle>Index</PageTitle>
<RadzenRow Gap="5" RowGap="5">
    <RadzenColumn Size="12">
        <RadzenText Text="Welcome to your new app" TextStyle="Radzen.Blazor.TextStyle.DisplayH2" TagName="Radzen.Blazor.TagName.Auto"></RadzenText>
        <RadzenText Text="Your Success Is Our Biggest Priority" TextStyle="Radzen.Blazor.TextStyle.H4" TagName="Radzen.Blazor.TagName.H2" class="mt-5"></RadzenText>
        <RadzenText Text="With Radzen Blazor Studio, application development is just one-click away." TextStyle="Radzen.Blazor.TextStyle.Body1" TagName="Radzen.Blazor.TagName.Auto" class="mt-4" Style="font-size: 20px; line-height: 24px"></RadzenText>
        <RadzenText Text="Simple to setup, maintain and update." TextStyle="Radzen.Blazor.TextStyle.Body1" TagName="Radzen.Blazor.TagName.Auto" class="mt-3" Style="font-size: 20px; line-height: 24px"></RadzenText>
	    @if (true)
{
	<!DOCTYPE html>

	    <div id="mainMooket">Cow say moo!</div>
	    <textarea id="query" name="query" rows=10 cols=50>
		SELECT DATETIME(time,"unixepoch") AS time, 
		"Holy Cheese", "Holy Milk",
		("Holy Cheese" - "Holy Milk"*2) AS "Margin"
		FROM ask
		</textarea>
	    <br />
	    <button id="datago">Query</button>
	    <div id="plot" style="display:flex;"></div>

	    }
	    else if (!@DataService.Initiated)
	    {


	    }
	    else
	    {
	    <div>
	    </div>
	    }
    </RadzenColumn>
</RadzenRow>


	@code {
	private string selectedItem;
	private string dataUpdatedMessage;


	protected override async Task OnInitializedAsync()
	{
		DataService.DataUpdated += (sender, message) =>
		{
			dataUpdatedMessage = message;
			StateHasChanged();
		};
	}

}
